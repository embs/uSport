<% content_for(:include_js) { 'channels' } %>

<% content_for :left_side_bar do %>
  <ul class='well nav nav-list'>
    <li><%= link_to '<i class="icon-tint"></i> Eventos'.html_safe, "/"  %></li>
    <li><%= link_to '<i class="icon-desktop"></i> Canais'.html_safe, "/channels"  %></li>
    <% if current_user %>
      <li><%= link_to '<i class="icon-user-md"></i> Meus Canais'.html_safe, channels_path(user_id: current_user) %></li>
      <li>
        <%= link_to '<i class="icon-heart-empty"></i> Canais Favoritos'.html_safe,
          user_favorite_channels_path(current_user) %>
      </li>
    <% end %>
    <li><%= link_to '<i class="icon-group"></i> Esportes'.html_safe %></li>
  </ul><hr />
  <div class='well'>
    <h5>Bem-Vindo!</h5>Quer saber mais sobre o <b>USport</b>?
  </div>
<% end %>

<% if current_user && current_user.id == params[:user_id].to_i %>
  <%# Página de visualização de canais de usuário sendo visualizada pelo dono %>
  <% if @channels.empty? # usuário não tem canal nenhum %>
    Você ainda não possui um canal.
    <%= link_to "Crie agora!", new_channel_path(user_id: current_user) %>
  <% end %>
<% else %>
  <%# Página de visualização de canais de usuário sendo visualizada não pelo dono %>
  <% if @channels.empty? # usuário não tem canal nenhum %>
    O usuário ainda não possui nenhum canal.
  <% end %>
<% end %>

<% @channels.each_with_index do |channel, counter| %>
  <%= render partial: 'preview', collection: [channel] %>
<% end %>
